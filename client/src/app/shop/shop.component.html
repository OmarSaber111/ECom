<div class="shop-component">
  <div class="container">
    <section class="main-title">
      <h1>Shopping</h1>
    </section>

    <div class="row">
      <section class="col-md-3">
        <div class="sidebar">
          <h4 class="section-title">Sorting</h4>
          <div class="custom-select-wrapper mb-4">
            <select name="" class="form-select" id="" (change)="sortingbyprice($event)">
              @for(item of sortoptions; track $index) {
              <option [value]="item.value">{{item.name}}</option>
              }
            </select>
          </div>
          <h4 class="section-title">Categories</h4>
          <ul class="list-group custom-list-group">
            @for(item of categories; track $index) {
              
            <li [class.active]="item.id==productparam.categoryId" (click)="filterbycategory(item.id)" class="list-group-item custom-list-item">
              {{item.name}}
            </li>
            }
          </ul>
        </div>
      </section>

      <section class="col-md-9">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <div class="paging-container">
            <span class="text-dark">showing {{products.length}} of {{productparam.pageNumber*productparam.pageSize}}</span>
          </div>
          <div class="search-container">
            <div class="input-group search-bar">
              <input [(ngModel)]="productparam.searchTerm" (keyup)="onsearch(productparam.searchTerm)"  (keyup.enter)="onsearch(productparam.searchTerm)" type="text" class="form-control" placeholder="Search...">
              <input (click)="onsearch(productparam.searchTerm)" type="button" class="btn btn-danger" value="Search">
              <input (click)="resetevalue()" type="button" class="btn btn-dark" value="Reset">
            </div>
          </div>
        </div>
        <div class="row g-4">
          @for(item of products; track $index) {
            <ng-container>
            <app-shop-item class="product-item col-lg-4 col-md-6" [product]="item"></app-shop-item>
          </ng-container>
          }
         <div class="d-flex justify-content-center align-items-center mt-5">
             <app-pagination 
                [pageSize]="productparam.pageSize"
                [totalCount]="totalCount"
                (pageChanged)="onPageChanged($event)"
          ></app-pagination></div>
        </div>
      
        </section>
      
    </div>
    
  </div>
  
</div>

